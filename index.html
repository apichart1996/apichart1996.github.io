<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Select Image and Upload as latest.jpg</title>
  <style>
    body {
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
    }
    img {
      max-width: 80%;
      margin-top: 20px;
    }
    button {
      padding: 10px 20px;
      margin: 10px;
      font-size: 16px;
    }
  </style>
</head>
<body>

  <h2>Select Image and Upload as latest.jpg</h2>

  <input type="file" id="imageInput" accept="image/*" style="display:none" />
  <button id="selectBtn">Select Image</button>
  <img id="preview" style="display:none;" />
  <p id="note">*หลังจากเลือกภาพแล้ว ให้อัปโหลดภาพด้วยชื่อ <strong>latest.jpg</strong> ไปที่ GitHub Pages ด้วยตัวเอง</p>

  <!-- ปุ่ม Go to Camera ที่จะอยู่ตลอดเวลา -->
  <button id="goToCamera">Go to Camera</button>

  <script>
    const selectBtn = document.getElementById('selectBtn');
    const imageInput = document.getElementById('imageInput');
    const preview = document.getElementById('preview');
    const goToCamera = document.getElementById('goToCamera');

    // เปิดตัวเลือกไฟล์เมื่อกด Select Image
    selectBtn.onclick = () => imageInput.click();

    // เมื่อเลือกไฟล์จาก input
    imageInput.onchange = (e) => {
      const file = e.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function (event) {
        preview.src = event.target.result;
        preview.style.display = 'block';
        goToCamera.style.display = 'inline-block'; // ให้ปุ่ม Go to Camera ปรากฏขึ้น
      };
      reader.readAsDataURL(file);
    };

    // เมื่อคลิกปุ่ม Go to Camera
    goToCamera.onclick = () => {
      window.location.href = 'camera.html';  // ไปที่หน้า camera.html
    };
  </script>

</body>
</html>
